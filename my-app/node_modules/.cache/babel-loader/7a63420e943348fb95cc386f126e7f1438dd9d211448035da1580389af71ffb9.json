{"ast":null,"code":"import React,{useState}from\"react\";import\"../../styles/LoginPage/LoginPage.css\";import{IoSpeedometerOutline}from\"react-icons/io5\";import{Meta}from'react-head';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LoginForm=()=>{const navigate=useNavigate();const[form,setForm]=useState({login:'',password:''});const[error,setError]=useState('');const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleLogin=async()=>{setError('');try{const response=await fetch('http://localhost:3005/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({login:form.login,password:form.password})});const result=await response.json();if(response.ok){navigate('/dashboard');}else{setError(result.message||'Login failed');}}catch(err){setError('Server error');console.error('Login error:',err);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Meta,{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"login-title\",children:[\"Speedster \",/*#__PURE__*/_jsx(IoSpeedometerOutline,{style:{fontSize:'28px',color:'white'}})]}),/*#__PURE__*/_jsx(\"label\",{className:\"login-label\",children:\"Login (e-mail/phone number)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"login\",className:\"login-input\",value:form.login,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"login-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"login-input\",value:form.password,onChange:handleChange}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-text\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Not registered?\"}),/*#__PURE__*/_jsx(Link,{to:\"/passwordrecovery\",children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",onClick:handleLogin,children:\"Login\"})]})})]});};export default LoginForm;","map":{"version":3,"names":["React","useState","IoSpeedometerOutline","Meta","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","navigate","form","setForm","login","password","error","setError","handleChange","e","target","name","value","handleLogin","response","fetch","method","headers","body","JSON","stringify","result","json","ok","message","err","console","children","content","className","style","fontSize","color","type","onChange","to","onClick"],"sources":["C:/Users/User/Documents/GitHub/diploma-application/my-app/src/components/LoginPage/LoginPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../../styles/LoginPage/LoginPage.css\";\r\nimport { IoSpeedometerOutline } from \"react-icons/io5\";\r\nimport { Meta } from 'react-head';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst LoginForm = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [form, setForm] = useState({ login: '', password: '' });\r\n  const [error, setError] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleLogin = async () => {\r\n    setError('');\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:3005/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          login: form.login,\r\n          password: form.password,\r\n        }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        navigate('/dashboard'); \r\n      } else {\r\n        setError(result.message || 'Login failed');\r\n      }\r\n    } catch (err) {\r\n      setError('Server error');\r\n      console.error('Login error:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n      <div className=\"login-background\">\r\n        <div className=\"login-container\">\r\n          <h2 className=\"login-title\">\r\n            Speedster <IoSpeedometerOutline style={{ fontSize: '28px', color: 'white' }} />\r\n          </h2>\r\n\r\n          <label className=\"login-label\">Login (e-mail/phone number)</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"login\"\r\n            className=\"login-input\"\r\n            value={form.login}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <label className=\"login-label\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"login-input\"\r\n            value={form.password}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          {error && <div className=\"error-text\">{error}</div>}\r\n\r\n          <div className=\"login-links\">\r\n            <Link to=\"/register\">Not registered?</Link>\r\n            <Link to=\"/passwordrecovery\">Forgot password?</Link>\r\n          </div>\r\n\r\n          <button className=\"login-button\" onClick={handleLogin}>\r\n            Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}